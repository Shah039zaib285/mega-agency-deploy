services:
  - type: web
    name: mega-agency-n8n
    env: node
    plan: free
    branch: main
    buildCommand: "npm install"
    startCommand: "npx n8n"
    envVars:
      - key: N8N_BASIC_AUTH_ACTIVE
        value: "false"
      - key: N8N_HOST
        value: "0.0.0.0"
      - key: N8N_PORT
        value: "5678"
      - key: WEBHOOK_URL
        value: "REPLACE_ME"
      - key: DATABASE_URL
        value: "REPLACE_ME"

  - type: web
    name: mega-agency-litellm
    env: python
    plan: free
    branch: main
    buildCommand: "pip install -r requirements.txt"
    startCommand: "python server.py"
    envVars:
      - key: GEMINI_API_KEY
        value: "REPLACE_ME"

  - type: web
    name: mega-agency-bridge
    env: node
    plan: free
    branch: main
    buildCommand: "npm install"
    startCommand: "node index.js"
    envVars:
      - key: BRIDGE_SECRET
        value: "REPLACE_ME"

  - type: web
    name: mega-agency-monitor
    env: node
    plan: free
    branch: main
    buildCommand: "npm install"
    startCommand: "node monitor.js"
    envVars:
      - key: MONITOR_SECRET
        value: "REPLACE_ME"

  - type: web
    name: mega-agency-deploy
    env: node
    plan: free
    branch: main
    buildCommand: "echo Deployment repo ready"
    startCommand: "node -e \"console.log('Deploy placeholder')\""